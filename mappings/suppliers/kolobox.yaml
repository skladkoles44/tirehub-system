version: "1.0"
supplier: "Kolobox"

format_hints:
  header_row_1based: 1
  subheader_row_1based: 2
  data_start_row_1based: 3
  sheet: "TDSheet"

# Column index is 1-based
columns:
  article_primary:
    type: column_position
    column: 7
    target: article
    priority: 200
  article_fallback:
    type: column_position
    column: 8
    target: article
    priority: 150

  name:
    type: column_position
    column: 10
    target: name
    priority: 200

  brand:
    type: column_position
    column: 9
    target: brand
    priority: 200

  # P0 price policy: "Опт / Цена" = col 12 (row1=Опт, row2=Цена)
  price:
    type: column_position
    column: 12
    target: price
    priority: 200

defaults:
  currency: "RUB"

# Explode: одна входная строка -> N строк по складам
# Остатки (qty) начинаются с col17..20 (row1: названия складов; row2: остаток)
warehouses:
  - column: 17
    warehouse_name: "Центр. Склад"
    qty_target: qty
  - column: 18
    warehouse_name: "Саранск опт"
    qty_target: qty
  - column: 19
    warehouse_name: "Тольятти опт(АХ)"
    qty_target: qty
  - column: 20
    warehouse_name: "Уфа опт(Соединительное шоссе)"
    qty_target: qty

# не используем на этапе P0: предоплата/проценты/розница/миц/цфр/размерные колонки
ignore_columns: [1,2,3,4,5,6,11,13,14,15,16]
notes:
  - "col12 = Опт/Цена (основная цена P0)"
  - "col17..20 = остатки по складам"
